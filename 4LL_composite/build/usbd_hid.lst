ARM GAS  C:\Temp\ccBpFKYq.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"usbd_hid.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c"
  20              		.section	.text.USBD_XINPUT_DataIn,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	USBD_XINPUT_DataIn:
  27              	.LVL0:
  28              	.LFB136:
   1:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** #include "usbd_hid.h"
   2:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** #include "usbd_ctlreq.h"
   3:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
   4:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** // Èñ¢Êï∞„Éó„É≠„Éà„Çø„Ç§„Éó
   5:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_Init(USBD_HandleTypeDef *pdev, uint8_t cfgidx);
   6:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_DeInit(USBD_HandleTypeDef *pdev, uint8_t cfgidx);
   7:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_Setup(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
   8:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t *USBD_XINPUT_GetCfgDesc(uint16_t *length);
   9:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_DataIn(USBD_HandleTypeDef *pdev, uint8_t epnum);
  10:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_DataOut(USBD_HandleTypeDef *pdev, uint8_t epnum);
  11:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  12:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** // ‚òÖËøΩÂä†: „Éá„Éº„ÇøÂèó‰ø°Áî®„Éê„ÉÉ„Éï„Ç° (ÊßãÈÄ†‰Ωì„É°„É≥„Éê„Å´‰æùÂ≠ò„Åó„Å™„ÅÑ„Çà„ÅÜ„Å´Áã¨Á´ã„Å
  13:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t WebHID_RxBuffer[64];
  14:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  15:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** // „ÇØ„É©„ÇπÊßãÈÄ†‰Ωì
  16:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** USBD_ClassTypeDef USBD_HID = {
  17:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_XINPUT_Init,
  18:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_XINPUT_DeInit,
  19:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_XINPUT_Setup,
  20:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     NULL,
  21:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     NULL,
  22:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_XINPUT_DataIn,
  23:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_XINPUT_DataOut,
  24:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     NULL,
  25:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     NULL,
  26:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     NULL,
  27:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_XINPUT_GetCfgDesc, // HS
  28:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_XINPUT_GetCfgDesc, // FS
  29:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_XINPUT_GetCfgDesc, // OtherSpeed
  30:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     NULL,
ARM GAS  C:\Temp\ccBpFKYq.s 			page 2


  31:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** };
  32:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  33:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** // WebHIDÁî®„É¨„Éù„Éº„Éà„Éá„Ç£„Çπ„ÇØ„É™„Éó„Çø (Raw HID 64bytes)
  34:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** __ALIGN_BEGIN static uint8_t WebHID_ReportDesc[34] __ALIGN_END = {
  35:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x06, 0x00, 0xFF,  // Usage Page (Vendor Defined)
  36:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x09, 0x01,        // Usage (0x01)
  37:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0xA1, 0x01,        // Collection (Application)
  38:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     // Input Report
  39:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x15, 0x00, 0x26, 0xFF, 0x00, 0x75, 0x08, 0x95, 0x40, 0x09, 0x01, 0x81, 0x02,
  40:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     // Output Report
  41:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x95, 0x40, 0x09, 0x01, 0x91, 0x02,
  42:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0xC0
  43:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** };
  44:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  45:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** // „Éû„ÇØ„É≠ÂÜçÂÆöÁæ©ÂõûÈÅø
  46:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** #ifdef USB_HID_CONFIG_DESC_SIZ
  47:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** #undef USB_HID_CONFIG_DESC_SIZ
  48:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** #endif
  49:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** #define USB_HID_CONFIG_DESC_SIZ       88
  50:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  51:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** __ALIGN_BEGIN static uint8_t USBD_XINPUT_CfgDesc[USB_HID_CONFIG_DESC_SIZ] __ALIGN_END = {
  52:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x09, 0x02, LOBYTE(USB_HID_CONFIG_DESC_SIZ), HIBYTE(USB_HID_CONFIG_DESC_SIZ), 
  53:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x02, 0x01, 0x00, 0x80, 0xFA, 
  54:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     // IAD (Interface 0)
  55:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x08, 0x0B, 0x00, 0x01, 0xFF, 0x5D, 0x01, 0x00,
  56:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     // Interface 0 (XInput)
  57:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x09, 0x04, 0x00, 0x00, 0x02, 0xFF, 0x5D, 0x01, 0x00,
  58:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x10, 0x21, 0x10, 0x01, 0x01, 0x24, 0x81, 0x14, 0x03, 0x00, 0x03, 0x13, 0x02, 0x00, 0x03, 0x00,
  59:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x07, 0x05, 0x81, 0x03, 0x20, 0x00, 0x01, 
  60:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x07, 0x05, 0x02, 0x03, 0x20, 0x00, 0x08,
  61:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     // Interface 1 (WebHID)
  62:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x09, 0x04, 0x01, 0x00, 0x02, 0x03, 0x00, 0x00, 0x00,
  63:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x09, 0x21, 0x11, 0x01, 0x00, 0x01, 0x22, LOBYTE(sizeof(WebHID_ReportDesc)), HIBYTE(sizeof(WebH
  64:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x07, 0x05, 0x83, 0x03, 0x40, 0x00, 0x01, 
  65:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     0x07, 0x05, 0x03, 0x03, 0x40, 0x00, 0x01
  66:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** };
  67:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  68:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_Init(USBD_HandleTypeDef *pdev, uint8_t cfgidx) {
  69:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x81, USBD_EP_TYPE_INTR, 32);
  70:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x02, USBD_EP_TYPE_INTR, 32);
  71:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x83, USBD_EP_TYPE_INTR, 64); // WebHID IN
  72:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x03, USBD_EP_TYPE_INTR, 64); // WebHID OUT
  73:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  74:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     pdev->pClassData = USBD_malloc(sizeof(USBD_HID_HandleTypeDef));
  75:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     
  76:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     // ‚òÖ‰øÆÊ≠£: ÊßãÈÄ†‰Ωì„ÅÆ„É°„É≥„Éê„Çí‰Ωø„Çè„Åö„ÄÅÈùôÁöÑÈÖçÂàó„ÇíÊåáÂÆö„Åó„Å¶Âèó‰ø°Ê∫ñÂÇô
  77:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_PrepareReceive(pdev, 0x03, WebHID_RxBuffer, 64);
  78:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  79:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
  80:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
  81:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  82:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_DeInit(USBD_HandleTypeDef *pdev, uint8_t cfgidx) {
  83:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x81);
  84:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x02);
  85:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x83);
  86:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x03);
  87:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     if(pdev->pClassData) USBD_free(pdev->pClassData);
ARM GAS  C:\Temp\ccBpFKYq.s 			page 3


  88:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
  89:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
  90:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  91:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_Setup(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req) {
  92:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     uint16_t len = 0;
  93:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     uint8_t *pbuf = NULL;
  94:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     static uint8_t if_alt = 0;
  95:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  96:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     switch (req->bmRequest & USB_REQ_TYPE_MASK) {
  97:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     case USB_REQ_TYPE_CLASS:
  98:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         if (req->bRequest == 0x0A) return USBD_OK; // Set_Idle
  99:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         USBD_CtlError(pdev, req);
 100:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         return USBD_FAIL;
 101:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 102:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     case USB_REQ_TYPE_STANDARD:
 103:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         switch (req->bRequest) {
 104:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         case USB_REQ_GET_DESCRIPTOR:
 105:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             if (req->wValue >> 8 == 0x22 && (req->wIndex & 0xFF) == 1) {
 106:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 pbuf = WebHID_ReportDesc;
 107:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 len = sizeof(WebHID_ReportDesc);
 108:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             }
 109:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             if (pbuf != NULL) {
 110:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 len = MIN(len, req->wLength);
 111:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 USBD_CtlSendData(pdev, pbuf, len);
 112:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             } else {
 113:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 USBD_CtlError(pdev, req);
 114:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 return USBD_FAIL;
 115:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             }
 116:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             break;
 117:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         case USB_REQ_GET_INTERFACE:
 118:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             if_alt = 0;
 119:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             USBD_CtlSendData(pdev, &if_alt, 1);
 120:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             break;
 121:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         case USB_REQ_SET_INTERFACE:
 122:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             USBD_CtlSendStatus(pdev);
 123:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             break;
 124:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         }
 125:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         break;
 126:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     }
 127:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
 128:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
 129:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 130:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_DataIn(USBD_HandleTypeDef *pdev, uint8_t epnum) {
  29              		.loc 1 130 76 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 131:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
  34              		.loc 1 131 5 view .LVU1
 132:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
  35              		.loc 1 132 1 is_stmt 0 view .LVU2
  36 0000 0020     		movs	r0, #0
  37              	.LVL1:
  38              		.loc 1 132 1 view .LVU3
  39 0002 7047     		bx	lr
  40              		.cfi_endproc
ARM GAS  C:\Temp\ccBpFKYq.s 			page 4


  41              	.LFE136:
  43              		.section	.text.USBD_XINPUT_GetCfgDesc,"ax",%progbits
  44              		.align	1
  45              		.syntax unified
  46              		.thumb
  47              		.thumb_func
  49              	USBD_XINPUT_GetCfgDesc:
  50              	.LVL2:
  51              	.LFB138:
 133:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 134:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t USBD_XINPUT_DataOut(USBD_HandleTypeDef *pdev, uint8_t epnum) {
 135:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     if (epnum == 0x03) {
 136:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         // Âèó‰ø°„Éá„Éº„Çø„ÅØ WebHID_RxBuffer „Å´ÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô
 137:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         // „Åì„Åì„ÅßÂøÖË¶Å„Å™„ÇâËß£ÊûêÂá¶ÁêÜ„ÇíË°å„ÅÑ„Åæ„Åô„Åå„ÄÅ‰ªä„ÅØÂèó‰ø°Á∂ôÁ∂öÂá¶ÁêÜ„ÅÆ„ÅøË°å„
 138:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         
 139:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         // ‚òÖ‰øÆÊ≠£: Ê¨°„ÅÆ„Éá„Éº„ÇøÂèó‰ø°Ê∫ñÂÇô (ÈùôÁöÑÈÖçÂàó„Çí‰ΩøÁî®)
 140:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         USBD_LL_PrepareReceive(pdev, 0x03, WebHID_RxBuffer, 64);
 141:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     }
 142:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
 143:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
 144:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 145:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** static uint8_t *USBD_XINPUT_GetCfgDesc(uint16_t *length) {
  52              		.loc 1 145 58 is_stmt 1 view -0
  53              		.cfi_startproc
  54              		@ args = 0, pretend = 0, frame = 0
  55              		@ frame_needed = 0, uses_anonymous_args = 0
  56              		@ link register save eliminated.
 146:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     *length = sizeof(USBD_XINPUT_CfgDesc);
  57              		.loc 1 146 5 view .LVU5
  58              		.loc 1 146 13 is_stmt 0 view .LVU6
  59 0000 5823     		movs	r3, #88
  60 0002 0380     		strh	r3, [r0]	@ movhi
 147:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_XINPUT_CfgDesc;
  61              		.loc 1 147 5 is_stmt 1 view .LVU7
 148:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
  62              		.loc 1 148 1 is_stmt 0 view .LVU8
  63 0004 0048     		ldr	r0, .L3
  64              	.LVL3:
  65              		.loc 1 148 1 view .LVU9
  66 0006 7047     		bx	lr
  67              	.L4:
  68              		.align	2
  69              	.L3:
  70 0008 00000000 		.word	USBD_XINPUT_CfgDesc
  71              		.cfi_endproc
  72              	.LFE138:
  74              		.section	.text.USBD_XINPUT_DataOut,"ax",%progbits
  75              		.align	1
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  80              	USBD_XINPUT_DataOut:
  81              	.LVL4:
  82              	.LFB137:
 134:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     if (epnum == 0x03) {
  83              		.loc 1 134 77 is_stmt 1 view -0
  84              		.cfi_startproc
ARM GAS  C:\Temp\ccBpFKYq.s 			page 5


  85              		@ args = 0, pretend = 0, frame = 0
  86              		@ frame_needed = 0, uses_anonymous_args = 0
 135:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         // Âèó‰ø°„Éá„Éº„Çø„ÅØ WebHID_RxBuffer „Å´ÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô
  87              		.loc 1 135 5 view .LVU11
 135:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         // Âèó‰ø°„Éá„Éº„Çø„ÅØ WebHID_RxBuffer „Å´ÂÖ•„Å£„Å¶„ÅÑ„Åæ„Åô
  88              		.loc 1 135 8 is_stmt 0 view .LVU12
  89 0000 0329     		cmp	r1, #3
  90 0002 01D0     		beq	.L11
 142:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
  91              		.loc 1 142 5 is_stmt 1 view .LVU13
 143:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  92              		.loc 1 143 1 is_stmt 0 view .LVU14
  93 0004 0020     		movs	r0, #0
  94              	.LVL5:
 143:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
  95              		.loc 1 143 1 view .LVU15
  96 0006 7047     		bx	lr
  97              	.LVL6:
  98              	.L11:
 134:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     if (epnum == 0x03) {
  99              		.loc 1 134 77 view .LVU16
 100 0008 08B5     		push	{r3, lr}
 101              	.LCFI0:
 102              		.cfi_def_cfa_offset 8
 103              		.cfi_offset 3, -8
 104              		.cfi_offset 14, -4
 140:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     }
 105              		.loc 1 140 9 is_stmt 1 view .LVU17
 106 000a 4023     		movs	r3, #64
 107 000c 024A     		ldr	r2, .L12
 108 000e FFF7FEFF 		bl	USBD_LL_PrepareReceive
 109              	.LVL7:
 142:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
 110              		.loc 1 142 5 view .LVU18
 143:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 111              		.loc 1 143 1 is_stmt 0 view .LVU19
 112 0012 0020     		movs	r0, #0
 113 0014 08BD     		pop	{r3, pc}
 114              	.L13:
 115 0016 00BF     		.align	2
 116              	.L12:
 117 0018 00000000 		.word	WebHID_RxBuffer
 118              		.cfi_endproc
 119              	.LFE137:
 121              		.section	.text.USBD_XINPUT_Setup,"ax",%progbits
 122              		.align	1
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 127              	USBD_XINPUT_Setup:
 128              	.LVL8:
 129              	.LFB135:
  91:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     uint16_t len = 0;
 130              		.loc 1 91 87 is_stmt 1 view -0
 131              		.cfi_startproc
 132              		@ args = 0, pretend = 0, frame = 0
 133              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Temp\ccBpFKYq.s 			page 6


  91:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     uint16_t len = 0;
 134              		.loc 1 91 87 is_stmt 0 view .LVU21
 135 0000 10B5     		push	{r4, lr}
 136              	.LCFI1:
 137              		.cfi_def_cfa_offset 8
 138              		.cfi_offset 4, -8
 139              		.cfi_offset 14, -4
  92:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     uint8_t *pbuf = NULL;
 140              		.loc 1 92 5 is_stmt 1 view .LVU22
 141              	.LVL9:
  93:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     static uint8_t if_alt = 0;
 142              		.loc 1 93 5 view .LVU23
  94:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 143              		.loc 1 94 5 view .LVU24
  96:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     case USB_REQ_TYPE_CLASS:
 144              		.loc 1 96 5 view .LVU25
  96:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     case USB_REQ_TYPE_CLASS:
 145              		.loc 1 96 16 is_stmt 0 view .LVU26
 146 0002 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
  96:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     case USB_REQ_TYPE_CLASS:
 147              		.loc 1 96 5 view .LVU27
 148 0004 14F06004 		ands	r4, r4, #96
 149 0008 0AD0     		beq	.L15
 150 000a 202C     		cmp	r4, #32
 151 000c 2CD1     		bne	.L20
  98:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         USBD_CtlError(pdev, req);
 152              		.loc 1 98 9 is_stmt 1 view .LVU28
  98:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         USBD_CtlError(pdev, req);
 153              		.loc 1 98 16 is_stmt 0 view .LVU29
 154 000e 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
  98:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         USBD_CtlError(pdev, req);
 155              		.loc 1 98 12 view .LVU30
 156 0010 0A2B     		cmp	r3, #10
 157 0012 01D1     		bne	.L23
  98:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         USBD_CtlError(pdev, req);
 158              		.loc 1 98 43 discriminator 1 view .LVU31
 159 0014 0024     		movs	r4, #0
 160 0016 28E0     		b	.L16
 161              	.L23:
  99:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         return USBD_FAIL;
 162              		.loc 1 99 9 is_stmt 1 view .LVU32
 163 0018 FFF7FEFF 		bl	USBD_CtlError
 164              	.LVL10:
 100:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 165              		.loc 1 100 9 view .LVU33
 100:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 166              		.loc 1 100 16 is_stmt 0 view .LVU34
 167 001c 0224     		movs	r4, #2
 168 001e 24E0     		b	.L16
 169              	.LVL11:
 170              	.L15:
 103:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         case USB_REQ_GET_DESCRIPTOR:
 171              		.loc 1 103 9 is_stmt 1 view .LVU35
 103:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         case USB_REQ_GET_DESCRIPTOR:
 172              		.loc 1 103 20 is_stmt 0 view .LVU36
 173 0020 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 103:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         case USB_REQ_GET_DESCRIPTOR:
ARM GAS  C:\Temp\ccBpFKYq.s 			page 7


 174              		.loc 1 103 9 view .LVU37
 175 0022 0A2B     		cmp	r3, #10
 176 0024 16D0     		beq	.L17
 177 0026 0B2B     		cmp	r3, #11
 178 0028 1BD0     		beq	.L18
 179 002a 062B     		cmp	r3, #6
 180 002c 1DD1     		bne	.L16
 105:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 pbuf = WebHID_ReportDesc;
 181              		.loc 1 105 13 is_stmt 1 view .LVU38
 105:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 pbuf = WebHID_ReportDesc;
 182              		.loc 1 105 20 is_stmt 0 view .LVU39
 183 002e 4B88     		ldrh	r3, [r1, #2]
 105:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 pbuf = WebHID_ReportDesc;
 184              		.loc 1 105 34 view .LVU40
 185 0030 1B0A     		lsrs	r3, r3, #8
 105:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 pbuf = WebHID_ReportDesc;
 186              		.loc 1 105 16 view .LVU41
 187 0032 222B     		cmp	r3, #34
 188 0034 02D1     		bne	.L19
 105:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 pbuf = WebHID_ReportDesc;
 189              		.loc 1 105 42 discriminator 1 view .LVU42
 190 0036 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 191 0038 012B     		cmp	r3, #1
 192 003a 03D0     		beq	.L24
 193              	.L19:
 194              	.LVL12:
 113:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 return USBD_FAIL;
 195              		.loc 1 113 17 is_stmt 1 view .LVU43
 196 003c FFF7FEFF 		bl	USBD_CtlError
 197              	.LVL13:
 114:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             }
 198              		.loc 1 114 17 view .LVU44
 114:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             }
 199              		.loc 1 114 24 is_stmt 0 view .LVU45
 200 0040 0224     		movs	r4, #2
 201 0042 12E0     		b	.L16
 202              	.LVL14:
 203              	.L24:
 106:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 len = sizeof(WebHID_ReportDesc);
 204              		.loc 1 106 17 is_stmt 1 view .LVU46
 107:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             }
 205              		.loc 1 107 17 view .LVU47
 109:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 len = MIN(len, req->wLength);
 206              		.loc 1 109 13 view .LVU48
 110:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 USBD_CtlSendData(pdev, pbuf, len);
 207              		.loc 1 110 17 view .LVU49
 110:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****                 USBD_CtlSendData(pdev, pbuf, len);
 208              		.loc 1 110 23 is_stmt 0 view .LVU50
 209 0044 CA88     		ldrh	r2, [r1, #6]
 210              	.LVL15:
 111:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             } else {
 211              		.loc 1 111 17 is_stmt 1 view .LVU51
 212 0046 222A     		cmp	r2, #34
 213 0048 28BF     		it	cs
 214 004a 2222     		movcs	r2, #34
 215              	.LVL16:
 111:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             } else {
ARM GAS  C:\Temp\ccBpFKYq.s 			page 8


 216              		.loc 1 111 17 is_stmt 0 view .LVU52
 217 004c 0849     		ldr	r1, .L25
 218              	.LVL17:
 111:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             } else {
 219              		.loc 1 111 17 view .LVU53
 220 004e FFF7FEFF 		bl	USBD_CtlSendData
 221              	.LVL18:
 116:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         case USB_REQ_GET_INTERFACE:
 222              		.loc 1 116 13 is_stmt 1 view .LVU54
 223 0052 0AE0     		b	.L16
 224              	.LVL19:
 225              	.L17:
 118:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             USBD_CtlSendData(pdev, &if_alt, 1);
 226              		.loc 1 118 13 view .LVU55
 118:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             USBD_CtlSendData(pdev, &if_alt, 1);
 227              		.loc 1 118 20 is_stmt 0 view .LVU56
 228 0054 0749     		ldr	r1, .L25+4
 229              	.LVL20:
 118:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             USBD_CtlSendData(pdev, &if_alt, 1);
 230              		.loc 1 118 20 view .LVU57
 231 0056 0023     		movs	r3, #0
 232 0058 0B70     		strb	r3, [r1]
 119:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             break;
 233              		.loc 1 119 13 is_stmt 1 view .LVU58
 234 005a 0122     		movs	r2, #1
 235 005c FFF7FEFF 		bl	USBD_CtlSendData
 236              	.LVL21:
 120:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         case USB_REQ_SET_INTERFACE:
 237              		.loc 1 120 13 view .LVU59
 238 0060 03E0     		b	.L16
 239              	.LVL22:
 240              	.L18:
 122:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****             break;
 241              		.loc 1 122 13 view .LVU60
 242 0062 FFF7FEFF 		bl	USBD_CtlSendStatus
 243              	.LVL23:
 123:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****         }
 244              		.loc 1 123 13 view .LVU61
 245 0066 00E0     		b	.L16
 246              	.LVL24:
 247              	.L20:
  96:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     case USB_REQ_TYPE_CLASS:
 248              		.loc 1 96 5 is_stmt 0 view .LVU62
 249 0068 0024     		movs	r4, #0
 250              	.LVL25:
 251              	.L16:
 128:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 252              		.loc 1 128 1 view .LVU63
 253 006a 2046     		mov	r0, r4
 254 006c 10BD     		pop	{r4, pc}
 255              	.L26:
 256 006e 00BF     		.align	2
 257              	.L25:
 258 0070 00000000 		.word	WebHID_ReportDesc
 259 0074 00000000 		.word	if_alt.0
 260              		.cfi_endproc
 261              	.LFE135:
ARM GAS  C:\Temp\ccBpFKYq.s 			page 9


 263              		.section	.text.USBD_XINPUT_DeInit,"ax",%progbits
 264              		.align	1
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 269              	USBD_XINPUT_DeInit:
 270              	.LVL26:
 271              	.LFB134:
  82:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x81);
 272              		.loc 1 82 77 is_stmt 1 view -0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 0
 275              		@ frame_needed = 0, uses_anonymous_args = 0
  82:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x81);
 276              		.loc 1 82 77 is_stmt 0 view .LVU65
 277 0000 10B5     		push	{r4, lr}
 278              	.LCFI2:
 279              		.cfi_def_cfa_offset 8
 280              		.cfi_offset 4, -8
 281              		.cfi_offset 14, -4
 282 0002 0446     		mov	r4, r0
  83:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x02);
 283              		.loc 1 83 5 is_stmt 1 view .LVU66
 284 0004 8121     		movs	r1, #129
 285              	.LVL27:
  83:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x02);
 286              		.loc 1 83 5 is_stmt 0 view .LVU67
 287 0006 FFF7FEFF 		bl	USBD_LL_CloseEP
 288              	.LVL28:
  84:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x83);
 289              		.loc 1 84 5 is_stmt 1 view .LVU68
 290 000a 0221     		movs	r1, #2
 291 000c 2046     		mov	r0, r4
 292 000e FFF7FEFF 		bl	USBD_LL_CloseEP
 293              	.LVL29:
  85:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_CloseEP(pdev, 0x03);
 294              		.loc 1 85 5 view .LVU69
 295 0012 8321     		movs	r1, #131
 296 0014 2046     		mov	r0, r4
 297 0016 FFF7FEFF 		bl	USBD_LL_CloseEP
 298              	.LVL30:
  86:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     if(pdev->pClassData) USBD_free(pdev->pClassData);
 299              		.loc 1 86 5 view .LVU70
 300 001a 0321     		movs	r1, #3
 301 001c 2046     		mov	r0, r4
 302 001e FFF7FEFF 		bl	USBD_LL_CloseEP
 303              	.LVL31:
  87:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
 304              		.loc 1 87 5 view .LVU71
  87:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
 305              		.loc 1 87 12 is_stmt 0 view .LVU72
 306 0022 D4F8B802 		ldr	r0, [r4, #696]
  87:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
 307              		.loc 1 87 7 view .LVU73
 308 0026 08B1     		cbz	r0, .L28
  87:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_OK;
 309              		.loc 1 87 26 is_stmt 1 discriminator 1 view .LVU74
ARM GAS  C:\Temp\ccBpFKYq.s 			page 10


 310 0028 FFF7FEFF 		bl	USBD_static_free
 311              	.LVL32:
 312              	.L28:
  88:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
 313              		.loc 1 88 5 view .LVU75
  89:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 314              		.loc 1 89 1 is_stmt 0 view .LVU76
 315 002c 0020     		movs	r0, #0
 316 002e 10BD     		pop	{r4, pc}
  89:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 317              		.loc 1 89 1 view .LVU77
 318              		.cfi_endproc
 319              	.LFE134:
 321              		.section	.text.USBD_XINPUT_Init,"ax",%progbits
 322              		.align	1
 323              		.syntax unified
 324              		.thumb
 325              		.thumb_func
 327              	USBD_XINPUT_Init:
 328              	.LVL33:
 329              	.LFB133:
  68:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x81, USBD_EP_TYPE_INTR, 32);
 330              		.loc 1 68 75 is_stmt 1 view -0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 0
 333              		@ frame_needed = 0, uses_anonymous_args = 0
  68:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x81, USBD_EP_TYPE_INTR, 32);
 334              		.loc 1 68 75 is_stmt 0 view .LVU79
 335 0000 10B5     		push	{r4, lr}
 336              	.LCFI3:
 337              		.cfi_def_cfa_offset 8
 338              		.cfi_offset 4, -8
 339              		.cfi_offset 14, -4
 340 0002 0446     		mov	r4, r0
  69:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x02, USBD_EP_TYPE_INTR, 32);
 341              		.loc 1 69 5 is_stmt 1 view .LVU80
 342 0004 2023     		movs	r3, #32
 343 0006 0322     		movs	r2, #3
 344 0008 8121     		movs	r1, #129
 345              	.LVL34:
  69:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x02, USBD_EP_TYPE_INTR, 32);
 346              		.loc 1 69 5 is_stmt 0 view .LVU81
 347 000a FFF7FEFF 		bl	USBD_LL_OpenEP
 348              	.LVL35:
  70:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x83, USBD_EP_TYPE_INTR, 64); // WebHID IN
 349              		.loc 1 70 5 is_stmt 1 view .LVU82
 350 000e 2023     		movs	r3, #32
 351 0010 0322     		movs	r2, #3
 352 0012 0221     		movs	r1, #2
 353 0014 2046     		mov	r0, r4
 354 0016 FFF7FEFF 		bl	USBD_LL_OpenEP
 355              	.LVL36:
  71:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     USBD_LL_OpenEP(pdev, 0x03, USBD_EP_TYPE_INTR, 64); // WebHID OUT
 356              		.loc 1 71 5 view .LVU83
 357 001a 4023     		movs	r3, #64
 358 001c 0322     		movs	r2, #3
 359 001e 8321     		movs	r1, #131
ARM GAS  C:\Temp\ccBpFKYq.s 			page 11


 360 0020 2046     		mov	r0, r4
 361 0022 FFF7FEFF 		bl	USBD_LL_OpenEP
 362              	.LVL37:
  72:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 363              		.loc 1 72 5 view .LVU84
 364 0026 4023     		movs	r3, #64
 365 0028 0322     		movs	r2, #3
 366 002a 1146     		mov	r1, r2
 367 002c 2046     		mov	r0, r4
 368 002e FFF7FEFF 		bl	USBD_LL_OpenEP
 369              	.LVL38:
  74:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     
 370              		.loc 1 74 5 view .LVU85
  74:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     
 371              		.loc 1 74 24 is_stmt 0 view .LVU86
 372 0032 1020     		movs	r0, #16
 373 0034 FFF7FEFF 		bl	USBD_static_malloc
 374              	.LVL39:
  74:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     
 375              		.loc 1 74 22 discriminator 1 view .LVU87
 376 0038 C4F8B802 		str	r0, [r4, #696]
  77:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 377              		.loc 1 77 5 is_stmt 1 view .LVU88
 378 003c 4023     		movs	r3, #64
 379 003e 034A     		ldr	r2, .L32
 380 0040 0321     		movs	r1, #3
 381 0042 2046     		mov	r0, r4
 382 0044 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 383              	.LVL40:
  79:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
 384              		.loc 1 79 5 view .LVU89
  80:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 385              		.loc 1 80 1 is_stmt 0 view .LVU90
 386 0048 0020     		movs	r0, #0
 387 004a 10BD     		pop	{r4, pc}
 388              	.LVL41:
 389              	.L33:
  80:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 390              		.loc 1 80 1 view .LVU91
 391              		.align	2
 392              	.L32:
 393 004c 00000000 		.word	WebHID_RxBuffer
 394              		.cfi_endproc
 395              	.LFE133:
 397              		.section	.text.USBD_HID_SendReport,"ax",%progbits
 398              		.align	1
 399              		.global	USBD_HID_SendReport
 400              		.syntax unified
 401              		.thumb
 402              		.thumb_func
 404              	USBD_HID_SendReport:
 405              	.LVL42:
 406              	.LFB139:
 149:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 150:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** uint8_t USBD_HID_SendReport(USBD_HandleTypeDef *pdev, uint8_t *report, uint16_t len) {
 407              		.loc 1 150 86 is_stmt 1 view -0
 408              		.cfi_startproc
ARM GAS  C:\Temp\ccBpFKYq.s 			page 12


 409              		@ args = 0, pretend = 0, frame = 0
 410              		@ frame_needed = 0, uses_anonymous_args = 0
 411              		.loc 1 150 86 is_stmt 0 view .LVU93
 412 0000 08B5     		push	{r3, lr}
 413              	.LCFI4:
 414              		.cfi_def_cfa_offset 8
 415              		.cfi_offset 3, -8
 416              		.cfi_offset 14, -4
 417 0002 1346     		mov	r3, r2
 151:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_LL_Transmit(pdev, 0x81, report, len);
 418              		.loc 1 151 5 is_stmt 1 view .LVU94
 419              		.loc 1 151 12 is_stmt 0 view .LVU95
 420 0004 0A46     		mov	r2, r1
 421              	.LVL43:
 422              		.loc 1 151 12 view .LVU96
 423 0006 8121     		movs	r1, #129
 424              	.LVL44:
 425              		.loc 1 151 12 view .LVU97
 426 0008 FFF7FEFF 		bl	USBD_LL_Transmit
 427              	.LVL45:
 152:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }
 428              		.loc 1 152 1 view .LVU98
 429 000c 08BD     		pop	{r3, pc}
 430              		.cfi_endproc
 431              	.LFE139:
 433              		.section	.text.USBD_WebHID_SendReport,"ax",%progbits
 434              		.align	1
 435              		.global	USBD_WebHID_SendReport
 436              		.syntax unified
 437              		.thumb
 438              		.thumb_func
 440              	USBD_WebHID_SendReport:
 441              	.LVL46:
 442              	.LFB140:
 153:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** 
 154:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** // WebHIDÈÄÅ‰ø°Èñ¢Êï∞
 155:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** uint8_t USBD_WebHID_SendReport(USBD_HandleTypeDef *pdev, uint8_t *report, uint16_t len) {
 443              		.loc 1 155 89 is_stmt 1 view -0
 444              		.cfi_startproc
 445              		@ args = 0, pretend = 0, frame = 0
 446              		@ frame_needed = 0, uses_anonymous_args = 0
 447              		.loc 1 155 89 is_stmt 0 view .LVU100
 448 0000 08B5     		push	{r3, lr}
 449              	.LCFI5:
 450              		.cfi_def_cfa_offset 8
 451              		.cfi_offset 3, -8
 452              		.cfi_offset 14, -4
 453 0002 1346     		mov	r3, r2
 156:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c ****     return USBD_LL_Transmit(pdev, 0x83, report, len);
 454              		.loc 1 156 5 is_stmt 1 view .LVU101
 455              		.loc 1 156 12 is_stmt 0 view .LVU102
 456 0004 0A46     		mov	r2, r1
 457              	.LVL47:
 458              		.loc 1 156 12 view .LVU103
 459 0006 8321     		movs	r1, #131
 460              	.LVL48:
 461              		.loc 1 156 12 view .LVU104
ARM GAS  C:\Temp\ccBpFKYq.s 			page 13


 462 0008 FFF7FEFF 		bl	USBD_LL_Transmit
 463              	.LVL49:
 157:Middlewares/ST/STM32_USB_Device_Library/Class/HID/Src/usbd_hid.c **** }...
 464              		.loc 1 157 1 view .LVU105
 465 000c 08BD     		pop	{r3, pc}
 466              		.cfi_endproc
 467              	.LFE140:
 469              		.section	.bss.if_alt.0,"aw",%nobits
 472              	if_alt.0:
 473 0000 00       		.space	1
 474              		.section	.data.USBD_XINPUT_CfgDesc,"aw"
 475              		.align	2
 478              	USBD_XINPUT_CfgDesc:
 479 0000 09       		.byte	9
 480 0001 02       		.byte	2
 481 0002 58       		.byte	88
 482 0003 00       		.byte	0
 483 0004 02010080 		.ascii	"\002\001\000\200\372\010\013\000\001\377]\001\000\011"
 483      FA080B00 
 483      01FF5D01 
 483      0009
 484 0012 04000002 		.ascii	"\004\000\000\002\377]\001\000\020!\020\001\001$\201"
 484      FF5D0100 
 484      10211001 
 484      012481
 485 0021 14030003 		.ascii	"\024\003\000\003\023\002\000\003\000\007\005\201\003"
 485      13020003 
 485      00070581 
 485      03
 486 002e 20000107 		.ascii	" \000\001\007\005\002\003 \000\010\011\004\001\000\002"
 486      05020320 
 486      00080904 
 486      010002
 487 003d 03000000 		.ascii	"\003\000\000\000\011!\021\001\000\001\""
 487      09211101 
 487      000122
 488 0048 22       		.byte	34
 489 0049 00       		.byte	0
 490 004a 07       		.byte	7
 491 004b 05       		.byte	5
 492 004c 83       		.byte	-125
 493 004d 03       		.byte	3
 494 004e 40       		.byte	64
 495 004f 00       		.byte	0
 496 0050 01       		.byte	1
 497 0051 07       		.byte	7
 498 0052 05       		.byte	5
 499 0053 03       		.byte	3
 500 0054 03       		.byte	3
 501 0055 40       		.byte	64
 502 0056 00       		.byte	0
 503 0057 01       		.byte	1
 504              		.section	.data.WebHID_ReportDesc,"aw"
 505              		.align	2
 508              	WebHID_ReportDesc:
 509 0000 0600FF09 		.ascii	"\006\000\377\011\001\241\001\025\000&\377\000u\010\225"
 509      01A10115 
ARM GAS  C:\Temp\ccBpFKYq.s 			page 14


 509      0026FF00 
 509      750895
 510 000f 40090181 		.ascii	"@\011\001\201\002\225@\011\001\221\002\300\000"
 510      02954009 
 510      019102C0 
 510      00
 511 001c 00000000 		.space	6
 511      0000
 512              		.global	USBD_HID
 513              		.section	.data.USBD_HID,"aw"
 514              		.align	2
 517              	USBD_HID:
 518 0000 00000000 		.word	USBD_XINPUT_Init
 519 0004 00000000 		.word	USBD_XINPUT_DeInit
 520 0008 00000000 		.word	USBD_XINPUT_Setup
 521 000c 00000000 		.word	0
 522 0010 00000000 		.word	0
 523 0014 00000000 		.word	USBD_XINPUT_DataIn
 524 0018 00000000 		.word	USBD_XINPUT_DataOut
 525 001c 00000000 		.word	0
 526 0020 00000000 		.word	0
 527 0024 00000000 		.word	0
 528 0028 00000000 		.word	USBD_XINPUT_GetCfgDesc
 529 002c 00000000 		.word	USBD_XINPUT_GetCfgDesc
 530 0030 00000000 		.word	USBD_XINPUT_GetCfgDesc
 531 0034 00000000 		.word	0
 532              		.section	.bss.WebHID_RxBuffer,"aw",%nobits
 533              		.align	2
 536              	WebHID_RxBuffer:
 537 0000 00000000 		.space	64
 537      00000000 
 537      00000000 
 537      00000000 
 537      00000000 
 538              		.text
 539              	.Letext0:
 540              		.file 2 "C:/TOOL/arm-none-eabi/include/machine/_default_types.h"
 541              		.file 3 "C:/TOOL/arm-none-eabi/include/sys/_stdint.h"
 542              		.file 4 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 543              		.file 5 "Middlewares/ST/STM32_USB_Device_Library/Class/HID/Inc/usbd_hid.h"
 544              		.file 6 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_core.h"
 545              		.file 7 "USB_DEVICE/Target/usbd_conf.h"
 546              		.file 8 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ioreq.h"
 547              		.file 9 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ctlreq.h"
ARM GAS  C:\Temp\ccBpFKYq.s 			page 15


DEFINED SYMBOLS
                            *ABS*:00000000 usbd_hid.c
  C:\Temp\ccBpFKYq.s:21     .text.USBD_XINPUT_DataIn:00000000 $t
  C:\Temp\ccBpFKYq.s:26     .text.USBD_XINPUT_DataIn:00000000 USBD_XINPUT_DataIn
  C:\Temp\ccBpFKYq.s:44     .text.USBD_XINPUT_GetCfgDesc:00000000 $t
  C:\Temp\ccBpFKYq.s:49     .text.USBD_XINPUT_GetCfgDesc:00000000 USBD_XINPUT_GetCfgDesc
  C:\Temp\ccBpFKYq.s:70     .text.USBD_XINPUT_GetCfgDesc:00000008 $d
  C:\Temp\ccBpFKYq.s:478    .data.USBD_XINPUT_CfgDesc:00000000 USBD_XINPUT_CfgDesc
  C:\Temp\ccBpFKYq.s:75     .text.USBD_XINPUT_DataOut:00000000 $t
  C:\Temp\ccBpFKYq.s:80     .text.USBD_XINPUT_DataOut:00000000 USBD_XINPUT_DataOut
  C:\Temp\ccBpFKYq.s:117    .text.USBD_XINPUT_DataOut:00000018 $d
  C:\Temp\ccBpFKYq.s:536    .bss.WebHID_RxBuffer:00000000 WebHID_RxBuffer
  C:\Temp\ccBpFKYq.s:122    .text.USBD_XINPUT_Setup:00000000 $t
  C:\Temp\ccBpFKYq.s:127    .text.USBD_XINPUT_Setup:00000000 USBD_XINPUT_Setup
  C:\Temp\ccBpFKYq.s:258    .text.USBD_XINPUT_Setup:00000070 $d
  C:\Temp\ccBpFKYq.s:508    .data.WebHID_ReportDesc:00000000 WebHID_ReportDesc
  C:\Temp\ccBpFKYq.s:472    .bss.if_alt.0:00000000 if_alt.0
  C:\Temp\ccBpFKYq.s:264    .text.USBD_XINPUT_DeInit:00000000 $t
  C:\Temp\ccBpFKYq.s:269    .text.USBD_XINPUT_DeInit:00000000 USBD_XINPUT_DeInit
  C:\Temp\ccBpFKYq.s:322    .text.USBD_XINPUT_Init:00000000 $t
  C:\Temp\ccBpFKYq.s:327    .text.USBD_XINPUT_Init:00000000 USBD_XINPUT_Init
  C:\Temp\ccBpFKYq.s:393    .text.USBD_XINPUT_Init:0000004c $d
  C:\Temp\ccBpFKYq.s:398    .text.USBD_HID_SendReport:00000000 $t
  C:\Temp\ccBpFKYq.s:404    .text.USBD_HID_SendReport:00000000 USBD_HID_SendReport
  C:\Temp\ccBpFKYq.s:434    .text.USBD_WebHID_SendReport:00000000 $t
  C:\Temp\ccBpFKYq.s:440    .text.USBD_WebHID_SendReport:00000000 USBD_WebHID_SendReport
  C:\Temp\ccBpFKYq.s:473    .bss.if_alt.0:00000000 $d
  C:\Temp\ccBpFKYq.s:475    .data.USBD_XINPUT_CfgDesc:00000000 $d
  C:\Temp\ccBpFKYq.s:505    .data.WebHID_ReportDesc:00000000 $d
  C:\Temp\ccBpFKYq.s:517    .data.USBD_HID:00000000 USBD_HID
  C:\Temp\ccBpFKYq.s:514    .data.USBD_HID:00000000 $d
  C:\Temp\ccBpFKYq.s:533    .bss.WebHID_RxBuffer:00000000 $d

UNDEFINED SYMBOLS
USBD_LL_PrepareReceive
USBD_CtlError
USBD_CtlSendData
USBD_CtlSendStatus
USBD_LL_CloseEP
USBD_static_free
USBD_LL_OpenEP
USBD_static_malloc
USBD_LL_Transmit
